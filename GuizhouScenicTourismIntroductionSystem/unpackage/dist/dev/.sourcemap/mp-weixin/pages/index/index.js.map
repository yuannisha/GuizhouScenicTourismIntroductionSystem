{"version":3,"file":"index.js","sources":["pages/index/index.vue","E:/HBuilderX/HBuilderX.4.45.2025010502/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvaW5kZXgvaW5kZXgudnVl"],"sourcesContent":["<template>\n\t<view class=\"container\">\n\t\t\n\t\t<!-- 轮播图 -->\n\t\t<swiper class=\"banner\" :indicator-dots=\"true\" :autoplay=\"true\" :interval=\"3000\" :duration=\"1000\">\n\t\t\t<swiper-item v-for=\"(item, index) in bannerList\" :key=\"index\">\n\t\t\t\t<image :src=\"item.image\" mode=\"aspectFill\" @click=\"handleBannerClick(item)\"></image>\n\t\t\t</swiper-item>\n\t\t</swiper>\n\t\t\n\t\t<!-- 功能导航 -->\n\t\t<view class=\"nav-grid\">\n\t\t\t<view class=\"nav-item\" v-for=\"(item, index) in navList\" :key=\"index\" @click=\"handleNavClick(item)\">\n\t\t\t\t<image :src=\"item.icon\" mode=\"aspectFit\"></image>\n\t\t\t\t<text>{{item.name}}</text>\n\t\t\t</view>\n\t\t</view>\n\t\t\n\t\t<!-- 热门景点 -->\n\t\t<view class=\"section\">\n\t\t\t<view class=\"section-header\">\n\t\t\t\t<text class=\"title\">热门景点</text>\n\t\t\t\t<text class=\"more\" @click=\"goToScenicList\">查看更多</text>\n\t\t\t</view>\n\t\t\t<scroll-view class=\"scenic-scroll\" scroll-x>\n\t\t\t\t<view class=\"scenic-list\">\n\t\t\t\t\t<view \n\t\t\t\t\t\tclass=\"scenic-item\" \n\t\t\t\t\t\tv-for=\"(item, index) in hotScenics\" \n\t\t\t\t\t\t:key=\"index\"\n\t\t\t\t\t\t@click=\"goToScenicDetail(item)\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<image :src=\"item.cover\" mode=\"aspectFill\"></image>\n\t\t\t\t\t\t<view class=\"info\">\n\t\t\t\t\t\t\t<text class=\"name\">{{item.name}}</text>\n\t\t\t\t\t\t\t<text class=\"price\">¥{{item.price}}起</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t</scroll-view>\n\t\t</view>\n\t\t\n\t\t<!-- 特色文化 -->\n\t\t<view class=\"section\">\n\t\t\t<view class=\"section-header\">\n\t\t\t\t<text class=\"title\">特色文化</text>\n\t\t\t\t<text class=\"more\" @click=\"goToCultureList\">查看更多</text>\n\t\t\t</view>\n\t\t\t<view class=\"culture-list\">\n\t\t\t\t<view \n\t\t\t\t\tclass=\"culture-item\" \n\t\t\t\t\tv-for=\"(item, index) in cultures\" \n\t\t\t\t\t:key=\"index\"\n\t\t\t\t\t@click=\"goToCultureDetail(item)\"\n\t\t\t\t>\n\t\t\t\t\t<image :src=\"item.cover\" mode=\"aspectFill\"></image>\n\t\t\t\t\t<view class=\"info\">\n\t\t\t\t\t\t<text class=\"name\">{{item.name}}</text>\n\t\t\t\t\t\t<text class=\"description\">{{item.description}}</text>\n\t\t\t\t\t\t<view class=\"tags\">\n\t\t\t\t\t\t\t<text v-for=\"(tag, tagIndex) in item.tags\" :key=\"tagIndex\">{{tag}}</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t</view>\n\t</view>\n</template>\n\n<script>\n/**\n * 首页\n * @description 展示热门景点、特色文化等内容\n */\nexport default {\n\tdata() {\n\t\treturn {\n\t\t\tsearchKeyword: '',\n\t\t\tbannerList: [\n\t\t\t\t{\n\t\t\t\t\tid: 1,\n\t\t\t\t\timage: '/static/banner/1.jpg',\n\t\t\t\t\turl: '/pages/scenic/detail?id=1'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tid: 2,\n\t\t\t\t\timage: '/static/banner/2.jpg',\n\t\t\t\t\turl: '/pages/scenic/detail?id=2'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tid: 3,\n\t\t\t\t\timage: '/static/banner/3.jpg',\n\t\t\t\t\turl: '/pages/scenic/detail?id=3'\n\t\t\t\t}\n\t\t\t],\n\t\t\tnavList: [\n\t\t\t\t{\n\t\t\t\t\tid: 1,\n\t\t\t\t\tname: '景点',\n\t\t\t\t\ticon: '/static/nav/scenic.png',\n\t\t\t\t\turl: '/pages/scenic/list'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tid: 2,\n\t\t\t\t\tname: '美食',\n\t\t\t\t\ticon: '/static/nav/food.png',\n\t\t\t\t\turl: '/pages/food/list'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tid: 3,\n\t\t\t\t\tname: '文化',\n\t\t\t\t\ticon: '/static/nav/culture.png',\n\t\t\t\t\turl: '/pages/culture/list'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tid: 4,\n\t\t\t\t\tname: '攻略',\n\t\t\t\t\ticon: '/static/nav/guide.png',\n\t\t\t\t\turl: '/pages/guide/list'\n\t\t\t\t}\n\t\t\t],\n\t\t\thotScenics: [],\n\t\t\tcultures: []\n\t\t}\n\t},\n\tonShow(){\n\t\tif(!uni.getStorageSync('userInfo')){\n\t\t\tuni.navigateTo({\n\t\t\t\turl: '/pages/login/login'\n\t\t\t})\n\t\t}\n\t\tthis.loadHotScenics()\n\t\tthis.loadCultures()\n\t},\n\tonLoad() {\n\t\tthis.loadHotScenics()\n\t\tthis.loadCultures()\n\t},\n\tmethods: {\n\t\t/**\n\t\t * 加载热门景点\n\t\t */\n\t\tasync loadHotScenics() {\n\t\t\ttry {\n\t\t\t\tconst res = await uniCloud.callFunction({\n\t\t\t\t\tname: 'scenic-center',\n\t\t\t\t\tdata: {\n\t\t\t\t\t\taction: 'getScenicList',\n\t\t\t\t\t\tparams: {\n\t\t\t\t\t\t\tUSERID: uni.getStorageSync('userInfo')?._id,\n\t\t\t\t\t\t\tpage: 1,\n\t\t\t\t\t\t\tpageSize: 5,\n\t\t\t\t\t\t\torderBy: 'score'\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t\n\t\t\t\tif (res.result.code === 0) {\n\t\t\t\t\tthis.hotScenics = res.result.data.list\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\tconsole.error(e)\n\t\t\t}\n\t\t},\n\t\t\n\t\t/**\n\t\t * 加载特色文化\n\t\t */\n\t\tasync loadCultures() {\n\t\t\ttry {\n\t\t\t\tconst res = await uniCloud.callFunction({\n\t\t\t\t\tname: 'culture-center',\n\t\t\t\t\tdata: {\n\t\t\t\t\t\taction: 'getCultureList',\n\t\t\t\t\t\tparams: {\n\t\t\t\t\t\t\tUSERID: uni.getStorageSync('userInfo')?._id,\n\t\t\t\t\t\t\tpage: 1,\n\t\t\t\t\t\t\tpageSize: 4\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t\n\t\t\t\tif (res.result.code === 0) {\n\t\t\t\t\tthis.cultures = res.result.data.list\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\tconsole.error(e)\n\t\t\t}\n\t\t},\n\n\t\t\n\t\thandleBannerClick(item) {\n\t\t\tuni.navigateTo({\n\t\t\t\turl: item.url\n\t\t\t})\n\t\t},\n\t\t\n\t\thandleNavClick(item) {\n\t\t\tconsole.log(item)\n\t\t\tif(item.url == '/pages/scenic/list'){\n\t\t\t\tuni.switchTab({\t\n\t\t\t\t\turl: item.url\n\t\t\t\t})\n\t\t\t}else{\n\t\t\t\tuni.navigateTo({\n\t\t\t\t\turl: item.url\n\t\t\t\t})\n\t\t\t}\n\t\t\t\n\t\t},\n\t\t\n\t\t/**\n\t\t * 跳转到景点列表\n\t\t */\n\t\tgoToScenicList() {\n\t\t\tuni.switchTab({\n\t\t\t\turl: '/pages/scenic/list'\n\t\t\t})\n\t\t},\n\t\t\n\t\t/**\n\t\t * 跳转到景点详情\n\t\t */\n\t\tgoToScenicDetail(item) {\n\t\t\tuni.navigateTo({\n\t\t\t\turl: `/pages/scenic/detail?id=${item._id}`\n\t\t\t})\n\t\t},\n\t\t\n\t\t/**\n\t\t * 跳转到文化列表\n\t\t */\n\t\tgoToCultureList() {\n\t\t\tuni.navigateTo({\n\t\t\t\turl: '/pages/culture/list'\n\t\t\t})\n\t\t},\n\t\t\n\t\t/**\n\t\t * 跳转到文化详情\n\t\t */\n\t\tgoToCultureDetail(item) {\n\t\t\tuni.navigateTo({\n\t\t\t\turl: `/pages/culture/detail?id=${item._id}`\n\t\t\t})\n\t\t}\n\t}\n}\n</script>\n\n<style lang=\"scss\">\n.container {\n\tmin-height: 100vh;\n\tbackground-color: #f5f5f5;\n\t\n\t.search-section {\n\t\tpadding: 20rpx;\n\t\tbackground-color: #fff;\n\t\t\n\t\t.search-bar {\n\t\t\tdisplay: flex;\n\t\t\tpadding: 20rpx;\n\t\t\tbackground-color: #fff;\n\t\t\t\n\t\t\tinput {\n\t\t\t\tflex: 1;\n\t\t\t\theight: 72rpx;\n\t\t\t\tpadding: 0 20rpx;\n\t\t\t\tbackground-color: #f5f5f5;\n\t\t\t\tborder-radius: 36rpx;\n\t\t\t\tmargin-right: 20rpx;\n\t\t\t\tfont-size: 28rpx;\n\t\t\t}\n\t\t\t\n\t\t\tbutton {\n\t\t\t\twidth: 120rpx;\n\t\t\t\theight: 72rpx;\n\t\t\t\tline-height: 72rpx;\n\t\t\t\tfont-size: 28rpx;\n\t\t\t\tcolor: #fff;\n\t\t\t\tbackground-color: #007AFF;\n\t\t\t\tborder-radius: 36rpx;\n\t\t\t}\n\t\t}\n\t}\n\t\n\t.banner {\n\t\theight: 300rpx;\n\t\t\n\t\timage {\n\t\t\twidth: 100%;\n\t\t\theight: 100%;\n\t\t}\n\t}\n\t\n\t.nav-grid {\n\t\tdisplay: flex;\n\t\tflex-wrap: wrap;\n\t\tpadding: 20rpx;\n\t\tbackground-color: #fff;\n\t\tmargin-bottom: 20rpx;\n\t\t\n\t\t.nav-item {\n\t\t\twidth: 25%;\n\t\t\tdisplay: flex;\n\t\t\tflex-direction: column;\n\t\t\talign-items: center;\n\t\t\tpadding: 20rpx 0;\n\t\t\t\n\t\t\timage {\n\t\t\t\twidth: 80rpx;\n\t\t\t\theight: 80rpx;\n\t\t\t\tmargin-bottom: 10rpx;\n\t\t\t}\n\t\t\t\n\t\t\ttext {\n\t\t\t\tfont-size: 24rpx;\n\t\t\t\tcolor: #333;\n\t\t\t}\n\t\t}\n\t}\n\t\n\t.section {\n\t\tmargin-top: 20rpx;\n\t\tpadding: 20rpx;\n\t\tbackground-color: #fff;\n\t\t\n\t\t.section-header {\n\t\t\tdisplay: flex;\n\t\t\tjustify-content: space-between;\n\t\t\talign-items: center;\n\t\t\tmargin-bottom: 20rpx;\n\t\t\t\n\t\t\t.title {\n\t\t\t\tfont-size: 32rpx;\n\t\t\t\tfont-weight: bold;\n\t\t\t\tcolor: #333;\n\t\t\t}\n\t\t\t\n\t\t\t.more {\n\t\t\t\tfont-size: 28rpx;\n\t\t\t\tcolor: #666;\n\t\t\t}\n\t\t}\n\t\t\n\t\t.scenic-scroll {\n\t\t\twhite-space: nowrap;\n\t\t\t\n\t\t\t.scenic-list {\n\t\t\t\tdisplay: flex;\n\t\t\t\tpadding-bottom: 10rpx;\n\t\t\t\t\n\t\t\t\t.scenic-item {\n\t\t\t\t\twidth: 300rpx;\n\t\t\t\t\tmargin-right: 20rpx;\n\t\t\t\t\tborder-radius: 12rpx;\n\t\t\t\t\toverflow: hidden;\n\t\t\t\t\t\n\t\t\t\t\timage {\n\t\t\t\t\t\twidth: 100%;\n\t\t\t\t\t\theight: 200rpx;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t.info {\n\t\t\t\t\t\tpadding: 10rpx;\n\t\t\t\t\t\t\n\t\t\t\t\t\t.name {\n\t\t\t\t\t\t\tfont-size: 28rpx;\n\t\t\t\t\t\t\tcolor: #333;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\t.price {\n\t\t\t\t\t\t\tfont-size: 24rpx;\n\t\t\t\t\t\t\tcolor: #ff4d4f;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\t.culture-list {\n\t\t\t.culture-item {\n\t\t\t\tdisplay: flex;\n\t\t\t\tmargin-bottom: 20rpx;\n\t\t\t\t\n\t\t\t\t&:last-child {\n\t\t\t\t\tmargin-bottom: 0;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\timage {\n\t\t\t\t\twidth: 200rpx;\n\t\t\t\t\theight: 150rpx;\n\t\t\t\t\tborder-radius: 8rpx;\n\t\t\t\t\tmargin-right: 20rpx;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t.info {\n\t\t\t\t\tflex: 1;\n\t\t\t\t\t\n\t\t\t\t\t.name {\n\t\t\t\t\t\tfont-size: 28rpx;\n\t\t\t\t\t\tfont-weight: bold;\n\t\t\t\t\t\tcolor: #333;\n\t\t\t\t\t\tmargin-bottom: 10rpx;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t.description {\n\t\t\t\t\t\tfont-size: 24rpx;\n\t\t\t\t\t\tcolor: #666;\n\t\t\t\t\t\tmargin-bottom: 10rpx;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t.tags {\n\t\t\t\t\t\tdisplay: flex;\n\t\t\t\t\t\tflex-wrap: wrap;\n\t\t\t\t\t\t\n\t\t\t\t\t\ttext {\n\t\t\t\t\t\t\tpadding: 4rpx 12rpx;\n\t\t\t\t\t\t\tmargin-right: 10rpx;\n\t\t\t\t\t\t\tmargin-bottom: 10rpx;\n\t\t\t\t\t\t\tfont-size: 22rpx;\n\t\t\t\t\t\t\tcolor: #007AFF;\n\t\t\t\t\t\t\tbackground-color: rgba(0, 122, 255, 0.1);\n\t\t\t\t\t\t\tborder-radius: 4rpx;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n</style>\n","import MiniProgramPage from 'D:/programs2024to2025/liululuprogram/first/GuizhouScenicTourismIntroductionSystem/pages/index/index.vue'\nwx.createPage(MiniProgramPage)"],"names":["uni","uniCloud"],"mappings":"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"}